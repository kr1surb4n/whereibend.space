<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" type="text/css" href="https://plumplum.space/theme/css/style.css">
	<!--<link rel="stylesheet/less" type="text/css" href="/theme/css/style.less">-->
	<!--<script src="/theme/js/less.js" type="text/javascript"></script>-->
	<link rel="stylesheet" type="text/css" href="https://plumplum.space/theme/css/pygments.css">
	<link href='//fonts.googleapis.com/css?family=Open+Sans:800,400,300|Inconsolata' rel='stylesheet' type='text/css'>

	<link href="https://plumplum.space/" type="application/atom+xml" rel="alternate" title="plumplum.space ATOM Feed" />


		<title>plumplum.space</title>
		<meta charset="utf-8" />
</head>
<body>
	<section id="sidebar">
		<figure id="user_logo">
            <a href="https://plumplum.space"><div class="logo">&nbsp;</div></a>
		</figure>

		<div class="user_meta">
            <h1 id="user"><a href="https://plumplum.space" class="">plum plum</a></h1>
			<h2></h2>
			<p class="bio">I'm Kris, I do a lot of things and I like to write about them</p>
			<ul>
			</ul>
		</div>
		<footer>
			<address>
				Powered by <a href="http://pelican.notmyidea.org/">Pelican</a>,
		                theme by <a href="https://github.com/wting/pelican-svbtle">wting</a>. No data collected.
			</address>
		</footer>
	</section>

	<section id="posts">
	<header>
		<h1>Kris's blog</h1>
		<h3>Posted Mo 09 MÃ¤rz 2020</h3>
	</header>
	<article>
		<h1 id="title">
			<a href="https://plumplum.space/my-publishing-pipeline.html" rel="bookmark"
				title="Permalink to My publishing pipeline">My publishing pipeline</a>
		</h1>
		<p>I like to do several things at a time. This blog is 
no exception. </p>
<p>Generally I wanted to have low resource consuming
blog. The choice was to server static files. Serving static files
is the king in serving any webpage. You have rendered final content
in an HTML file. No code has to be run. No memcached or similar stuff.
You enter URL address, server handles to you a file. Only bottle neck
is reading from hard drive, but we today have SSD drives. Using Cloudflare
such page will be fine. I still wonder why CMSes and web frameworks don't
build static content that is rerendered each time someone makes changes.
We keep raw data in databases so that we could display that data in rendered form
just to send it into oblivion. Can't we use HTML files on hard drive as a database?</p>
<p>I didn't even thought about a databases when I was building this project. I wanted to go cheap as
possible. As easy as possible. Static site generators like <a href="https://blog.getpelican.com/">Pelican</a> (used for this site) take
content in markdown format, then render it into HTML files with styles and scripts attached.
Product of a template,  mardown-html converter and some config files. Rerendering has to be done each
time you make a change (you need to change the modification date), but that's it. </p>
<p>So the first workflow is like this:
1. write note in markdown with special header, inside folder <code>content</code>. 
2. run <code>make publish</code> to generate HTML files inside <code>output</code> folder.
3. commit all changes
4. push stuff to Github
5. pull stuff from Github by cron script on server</p>
<p>Before that we need to create Pelican project and configure it.</p>
<p>I like this solution cause I don't have to do much. GNU make is great CI/CD local pipeline -
all I need to do is run <code>make publish</code>. Steps 2, 3 and 4 are done by make command. 
Step 5 is automated using cron.</p>
<p>Using Github like this is awesome automation. I publish online stuff that will be published
online - so no security problem. I don't have to connect to the server - server downloads code
from public space. Anonymously and automatically. No SSH keys or something, no users and passwords.
Just a cron script that does <code>git pull</code> every hour.</p>
<p>What's more is that I can step 1 brake into smaller pieces - generating special header can be automated.
I'm building something I call <code>publishing_boy</code> which is a tool that processes a folder full of 
mardown files by adding description headers for <code>pelican</code>. I even want to add some text processing tools
into the chain like grammar checking or a style transfer. This will be cool :)</p>

		<div id="article_meta">
				Category:
					<a href="https://plumplum.space/category/blog-coding-projects-organizing.html">blog coding projects organizing</a>
		</div>
	</article>

	<footer>
		<a href="https://plumplum.space/" class="button_accent">&larr;&nbsp;&nbsp;&nbsp;Back to blog</a>
	</footer>


	</section>

</body>
</html>